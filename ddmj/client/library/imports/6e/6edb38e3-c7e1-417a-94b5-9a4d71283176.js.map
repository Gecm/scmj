{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\scripts\\components/assets\\scripts\\components\\Hall.js"],"names":["Net","require","Global","cc","Class","extends","Component","properties","lblName","Label","lblMoney","lblGems","lblID","lblNotice","joinGameWin","Node","createRoomWin","settingsWin","helpWin","xiaoxiWin","btnJoinGame","btnReturnGame","sprHeadImg","Sprite","initNetHandlers","self","onShare","vv","anysdkMgr","share","onLoad","sys","isNative","isMobile","cvs","node","getComponent","Canvas","fitHeight","fitWidth","director","loadScene","initLabels","gameNetMgr","roomId","active","userMgr","oldRoomId","enterRoom","imgLoader","setUserID","userId","utils","addClickEvent","addComponent","initButtonHandler","notice","version","msg","gemstip","string","refreshInfo","refreshNotice","refreshGemsTip","audioMgr","playBGM","onGet","ret","errcode","console","log","errmsg","gems","data","account","sign","http","sendRequest","bind","replace","type","btnPath","btn","find","userName","coins","onBtnClicked","event","target","name","userinfoShow","show","sex","ip","onJoinGameClicked","onReturnGameClicked","onBtnAddGemsClicked","alert","onCreateRoomClicked","update","dt","x","width","roomData"],"mappings":"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","file":"Hall.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\components","sourcesContent":["//拿到这两文件\r\nvar Net = require(\"Net\")\r\nvar Global = require(\"Global\")\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        //这些label，这些玩家信息\r\n        lblName:cc.Label,\r\n        lblMoney:cc.Label,\r\n        lblGems:cc.Label,\r\n        lblID:cc.Label,\r\n        lblNotice:cc.Label,\r\n        //这些是一些节点窗口或按钮\r\n        joinGameWin:cc.Node,\r\n        createRoomWin:cc.Node,\r\n        settingsWin:cc.Node,\r\n        helpWin:cc.Node,\r\n        xiaoxiWin:cc.Node,\r\n        btnJoinGame:cc.Node,\r\n        btnReturnGame:cc.Node,\r\n        //这是一张头像\r\n        sprHeadImg:cc.Sprite,\r\n        // foo: {\r\n        //    default: null,\r\n        //    url: cc.Texture2D,  // optional, default is typeof default\r\n        //    serializable: true, // optional, default is true\r\n        //    visible: true,      // optional, default is true\r\n        //    displayName: 'Foo', // optional\r\n        //    readonly: false,    // optional, default is false\r\n        // },\r\n        // ...\r\n\r\n    },\r\n    \r\n    initNetHandlers:function(){\r\n        var self = this;\r\n    },\r\n    \r\n    onShare:function(){\r\n        cc.vv.anysdkMgr.share(\"达达麻将\",\"达达麻将，包含了血战到底、血流成河等多种四川流行麻将玩法。\");   \r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n        if(!cc.sys.isNative && cc.sys.isMobile){\r\n            var cvs = this.node.getComponent(cc.Canvas);\r\n            cvs.fitHeight = true;\r\n            cvs.fitWidth = true;\r\n        }\r\n        if(!cc.vv){\r\n            cc.director.loadScene(\"loading\");\r\n            return;\r\n        }\r\n        this.initLabels();\r\n        \r\n        if(cc.vv.gameNetMgr.roomId == null){\r\n            this.btnJoinGame.active = true;\r\n            this.btnReturnGame.active = false;\r\n        }\r\n        else{\r\n            this.btnJoinGame.active = false;\r\n            this.btnReturnGame.active = true;\r\n        }\r\n        \r\n        //var params = cc.vv.args;\r\n        var roomId = cc.vv.userMgr.oldRoomId \r\n        if( roomId != null){\r\n            cc.vv.userMgr.oldRoomId = null;\r\n            cc.vv.userMgr.enterRoom(roomId);\r\n        }\r\n        \r\n        var imgLoader = this.sprHeadImg.node.getComponent(\"ImageLoader\");\r\n        imgLoader.setUserID(cc.vv.userMgr.userId);\r\n        cc.vv.utils.addClickEvent(this.sprHeadImg.node,this.node,\"Hall\",\"onBtnClicked\");\r\n        \r\n        \r\n        this.addComponent(\"UserInfoShow\");\r\n        \r\n        this.initButtonHandler(\"Canvas/right_bottom/btn_shezhi\");\r\n        this.initButtonHandler(\"Canvas/right_bottom/btn_help\");\r\n        this.initButtonHandler(\"Canvas/right_bottom/btn_xiaoxi\");\r\n        this.helpWin.addComponent(\"OnBack\");\r\n        this.xiaoxiWin.addComponent(\"OnBack\");\r\n        \r\n        if(!cc.vv.userMgr.notice){\r\n            cc.vv.userMgr.notice = {\r\n                version:null,\r\n                msg:\"数据请求中...\",\r\n            }\r\n        }\r\n        \r\n        if(!cc.vv.userMgr.gemstip){\r\n            cc.vv.userMgr.gemstip = {\r\n                version:null,\r\n                msg:\"数据请求中...\",\r\n            }\r\n        }\r\n        \r\n        this.lblNotice.string = cc.vv.userMgr.notice.msg;\r\n        \r\n        this.refreshInfo();\r\n        this.refreshNotice();\r\n        this.refreshGemsTip();\r\n        \r\n        cc.vv.audioMgr.playBGM(\"bgMain.mp3\");\r\n    },\r\n    \r\n    refreshInfo:function(){\r\n        var self = this;\r\n        var onGet = function(ret){\r\n            if(ret.errcode !== 0){\r\n                console.log(ret.errmsg);\r\n            }\r\n            else{\r\n                if(ret.gems != null){\r\n                    this.lblGems.string = ret.gems;    \r\n                }\r\n            }\r\n        };\r\n        \r\n        var data = {\r\n            account:cc.vv.userMgr.account,\r\n            sign:cc.vv.userMgr.sign,\r\n        };\r\n        cc.vv.http.sendRequest(\"/get_user_status\",data,onGet.bind(this));\r\n    },\r\n    \r\n    refreshGemsTip:function(){\r\n        var self = this;\r\n        var onGet = function(ret){\r\n            if(ret.errcode !== 0){\r\n                console.log(ret.errmsg);\r\n            }\r\n            else{\r\n                cc.vv.userMgr.gemstip.version = ret.version;\r\n                cc.vv.userMgr.gemstip.msg = ret.msg.replace(\"<newline>\",\"\\n\");\r\n            }\r\n        };\r\n        \r\n        var data = {\r\n            account:cc.vv.userMgr.account,\r\n            sign:cc.vv.userMgr.sign,\r\n            type:\"fkgm\",\r\n            version:cc.vv.userMgr.gemstip.version\r\n        };\r\n        cc.vv.http.sendRequest(\"/get_message\",data,onGet.bind(this));\r\n    },\r\n    \r\n    refreshNotice:function(){\r\n        var self = this;\r\n        var onGet = function(ret){\r\n            if(ret.errcode !== 0){\r\n                console.log(ret.errmsg);\r\n            }\r\n            else{\r\n                cc.vv.userMgr.notice.version = ret.version;\r\n                cc.vv.userMgr.notice.msg = ret.msg;\r\n                this.lblNotice.string = ret.msg;\r\n            }\r\n        };\r\n        \r\n        var data = {\r\n            account:cc.vv.userMgr.account,\r\n            sign:cc.vv.userMgr.sign,\r\n            type:\"notice\",\r\n            version:cc.vv.userMgr.notice.version\r\n        };\r\n        cc.vv.http.sendRequest(\"/get_message\",data,onGet.bind(this));\r\n    },\r\n    \r\n    initButtonHandler:function(btnPath){\r\n        var btn = cc.find(btnPath);\r\n        cc.vv.utils.addClickEvent(btn,this.node,\"Hall\",\"onBtnClicked\");        \r\n    },\r\n    \r\n    \r\n    \r\n    initLabels:function(){\r\n        this.lblName.string = cc.vv.userMgr.userName;\r\n        this.lblMoney.string = cc.vv.userMgr.coins;\r\n        this.lblGems.string = cc.vv.userMgr.gems;\r\n        this.lblID.string = \"ID:\" + cc.vv.userMgr.userId;\r\n    },\r\n    \r\n    onBtnClicked:function(event){\r\n        if(event.target.name == \"btn_shezhi\"){\r\n            this.settingsWin.active = true;\r\n        }   \r\n        else if(event.target.name == \"btn_help\"){\r\n            this.helpWin.active = true;\r\n        }\r\n        else if(event.target.name == \"btn_xiaoxi\"){\r\n            this.xiaoxiWin.active = true;\r\n        }\r\n        else if(event.target.name == \"head\"){\r\n            cc.vv.userinfoShow.show(cc.vv.userMgr.userName,cc.vv.userMgr.userId,this.sprHeadImg,cc.vv.userMgr.sex,cc.vv.userMgr.ip);\r\n        }\r\n    },\r\n    //加入房间\r\n    onJoinGameClicked:function(){\r\n        this.joinGameWin.active = true;\r\n    },\r\n    \r\n    onReturnGameClicked:function(){\r\n            cc.director.loadScene(\"mjgame\");\r\n    },\r\n    \r\n    onBtnAddGemsClicked:function(){\r\n        cc.vv.alert.show(\"提示\",cc.vv.userMgr.gemstip.msg);\r\n        this.refreshInfo();\r\n    },\r\n    \r\n    onCreateRoomClicked:function(){\r\n        if(cc.vv.gameNetMgr.roomId != null){\r\n            cc.vv.alert.show(\"提示\",\"房间已经创建!\\n必须解散当前房间才能创建新的房间\");\r\n            return;\r\n        }\r\n        console.log(\"onCreateRoomClicked\");\r\n        this.createRoomWin.active = true;   \r\n    },\r\n\r\n    // called every frame, uncomment this function to activate update callback\r\n    update: function (dt) {\r\n        var x = this.lblNotice.node.x;\r\n        x -= dt*100;\r\n        if(x + this.lblNotice.node.width < -1000){\r\n            x = 500;\r\n        }\r\n        this.lblNotice.node.x = x;\r\n        \r\n        if(cc.vv && cc.vv.userMgr.roomData != null){\r\n            cc.vv.userMgr.enterRoom(cc.vv.userMgr.roomData);\r\n            cc.vv.userMgr.roomData = null;\r\n        }\r\n    },\r\n});\r\n"]}