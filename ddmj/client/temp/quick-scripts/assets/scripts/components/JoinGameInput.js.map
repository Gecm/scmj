{"version":3,"sources":["JoinGameInput.js"],"names":["cc","Class","extends","Component","properties","nums","default","type","Label","_inputIndex","onLoad","onEnable","onResetClicked","onInputFinished","roomId","vv","userMgr","enterRoom","ret","errcode","node","active","content","alert","show","bind","onInput","num","length","string","parseRoomID","console","log","onN0Clicked","onN1Clicked","onN2Clicked","onN3Clicked","onN4Clicked","onN5Clicked","onN6Clicked","onN7Clicked","onN8Clicked","onN9Clicked","i","onDelClicked","onCloseClicked","str"],"mappings":"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","file":"JoinGameInput.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\components","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        nums:{\r\n            default:[],\r\n            type:[cc.Label]\r\n        },\r\n        _inputIndex:0,\r\n        // foo: {\r\n        //    default: null,\r\n        //    url: cc.Texture2D,  // optional, default is typeof default\r\n        //    serializable: true, // optional, default is true\r\n        //    visible: true,      // optional, default is true\r\n        //    displayName: 'Foo', // optional\r\n        //    readonly: false,    // optional, default is false\r\n        // },\r\n        // ...\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n        \r\n    },\r\n    \r\n    onEnable:function(){\r\n        this.onResetClicked();\r\n    },\r\n    \r\n    onInputFinished:function(roomId){\r\n        cc.vv.userMgr.enterRoom(roomId,function(ret){\r\n            if(ret.errcode == 0){\r\n                this.node.active = false;\r\n            }\r\n            else{\r\n                var content = \"房间[\"+ roomId +\"]不存在，请重新输入!\";\r\n                if(ret.errcode == 4){\r\n                    content = \"房间[\"+ roomId + \"]已满!\";\r\n                }\r\n                cc.vv.alert.show(\"提示\",content);\r\n                this.onResetClicked();\r\n            }\r\n        }.bind(this)); \r\n    },\r\n    \r\n    onInput:function(num){\r\n        if(this._inputIndex >= this.nums.length){\r\n            return;\r\n        }\r\n        this.nums[this._inputIndex].string = num;\r\n        this._inputIndex += 1;\r\n        \r\n        if(this._inputIndex == this.nums.length){\r\n            var roomId = this.parseRoomID();\r\n            console.log(\"ok:\" + roomId);\r\n            this.onInputFinished(roomId);\r\n        }\r\n    },\r\n    \r\n    onN0Clicked:function(){\r\n        this.onInput(0);  \r\n    },\r\n    onN1Clicked:function(){\r\n        this.onInput(1);  \r\n    },\r\n    onN2Clicked:function(){\r\n        this.onInput(2);\r\n    },\r\n    onN3Clicked:function(){\r\n        this.onInput(3);\r\n    },\r\n    onN4Clicked:function(){\r\n        this.onInput(4);\r\n    },\r\n    onN5Clicked:function(){\r\n        this.onInput(5);\r\n    },\r\n    onN6Clicked:function(){\r\n        this.onInput(6);\r\n    },\r\n    onN7Clicked:function(){\r\n        this.onInput(7);\r\n    },\r\n    onN8Clicked:function(){\r\n        this.onInput(8);\r\n    },\r\n    onN9Clicked:function(){\r\n        this.onInput(9);\r\n    },\r\n    onResetClicked:function(){\r\n        for(var i = 0; i < this.nums.length; ++i){\r\n            this.nums[i].string = \"\";\r\n        }\r\n        this._inputIndex = 0;\r\n    },\r\n    onDelClicked:function(){\r\n        if(this._inputIndex > 0){\r\n            this._inputIndex -= 1;\r\n            this.nums[this._inputIndex].string = \"\";\r\n        }\r\n    },\r\n    onCloseClicked:function(){\r\n        this.node.active = false;\r\n    },\r\n    \r\n    parseRoomID:function(){\r\n        var str = \"\";\r\n        for(var i = 0; i < this.nums.length; ++i){\r\n            str += this.nums[i].string;\r\n        }\r\n        return str;\r\n    }\r\n\r\n    // called every frame, uncomment this function to activate update callback\r\n    // update: function (dt) {\r\n\r\n    // },\r\n});\r\n"]}