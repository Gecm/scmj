{"version":3,"sources":["UserInfoShow.js"],"names":["cc","Class","extends","Component","properties","_userinfo","onLoad","vv","find","active","utils","addClickEvent","node","userinfoShow","show","name","userId","iconSprite","sex","ip","getChildByName","getComponent","Sprite","spriteFrame","Label","string","replace","sex_female","sex_male","onClicked"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAC,mBAAU;AAXF,KAHP;;AAiBL;AACAC,YAAQ,kBAAY;AAChB,YAAGN,GAAGO,EAAH,IAAS,IAAZ,EAAiB;AACb;AACH;;AAED,aAAKF,SAAL,GAAiBL,GAAGQ,IAAH,CAAQ,iBAAR,CAAjB;AACA,aAAKH,SAAL,CAAeI,MAAf,GAAwB,KAAxB;AACAT,WAAGO,EAAH,CAAMG,KAAN,CAAYC,aAAZ,CAA0B,KAAKN,SAA/B,EAAyC,KAAKO,IAA9C,EAAmD,cAAnD,EAAkE,WAAlE;;AAEAZ,WAAGO,EAAH,CAAMM,YAAN,GAAqB,IAArB;AACH,KA5BI;;AA8BLC,UAAK,cAASC,IAAT,EAAcC,MAAd,EAAqBC,UAArB,EAAgCC,GAAhC,EAAoCC,EAApC,EAAuC;AACxC,YAAGH,UAAU,IAAV,IAAkBA,SAAS,CAA9B,EAAgC;AAC5B,iBAAKX,SAAL,CAAeI,MAAf,GAAwB,IAAxB;AACA,iBAAKJ,SAAL,CAAee,cAAf,CAA8B,MAA9B,EAAsCC,YAAtC,CAAmDrB,GAAGsB,MAAtD,EAA8DC,WAA9D,GAA4EN,WAAWM,WAAvF;AACA,iBAAKlB,SAAL,CAAee,cAAf,CAA8B,MAA9B,EAAsCC,YAAtC,CAAmDrB,GAAGwB,KAAtD,EAA6DC,MAA7D,GAAsEV,IAAtE;AACA,iBAAKV,SAAL,CAAee,cAAf,CAA8B,IAA9B,EAAoCC,YAApC,CAAiDrB,GAAGwB,KAApD,EAA2DC,MAA3D,GAAoE,SAASN,GAAGO,OAAH,CAAW,SAAX,EAAqB,EAArB,CAA7E;AACA,iBAAKrB,SAAL,CAAee,cAAf,CAA8B,IAA9B,EAAoCC,YAApC,CAAiDrB,GAAGwB,KAApD,EAA2DC,MAA3D,GAAoE,SAAST,MAA7E;;AAEA,gBAAIW,aAAa,KAAKtB,SAAL,CAAee,cAAf,CAA8B,YAA9B,CAAjB;AACAO,uBAAWlB,MAAX,GAAoB,KAApB;;AAEA,gBAAImB,WAAW,KAAKvB,SAAL,CAAee,cAAf,CAA8B,UAA9B,CAAf;AACAQ,qBAASnB,MAAT,GAAkB,KAAlB;;AAEA,gBAAGS,OAAO,CAAV,EAAY;AACRU,yBAASnB,MAAT,GAAkB,IAAlB;AACH,aAFD,MAGK,IAAGS,OAAO,CAAV,EAAY;AACbS,2BAAWlB,MAAX,GAAoB,IAApB;AACH;AACJ;AACJ,KAnDI;;AAqDLoB,eAAU,qBAAU;AAChB,aAAKxB,SAAL,CAAeI,MAAf,GAAwB,KAAxB;AACH;;AAED;AACA;;AAEA;AA5DK,CAAT","file":"UserInfoShow.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\components","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //    default: null,      // The default value will be used only when the component attaching\r\n        //                           to a node for the first time\r\n        //    url: cc.Texture2D,  // optional, default is typeof default\r\n        //    serializable: true, // optional, default is true\r\n        //    visible: true,      // optional, default is true\r\n        //    displayName: 'Foo', // optional\r\n        //    readonly: false,    // optional, default is false\r\n        // },\r\n        // ...\r\n        _userinfo:null,\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n        if(cc.vv == null){\r\n            return;\r\n        }\r\n        \r\n        this._userinfo = cc.find(\"Canvas/userinfo\");\r\n        this._userinfo.active = false;\r\n        cc.vv.utils.addClickEvent(this._userinfo,this.node,\"UserInfoShow\",\"onClicked\");\r\n        \r\n        cc.vv.userinfoShow = this;\r\n    },\r\n    \r\n    show:function(name,userId,iconSprite,sex,ip){\r\n        if(userId != null && userId > 0){\r\n            this._userinfo.active = true;\r\n            this._userinfo.getChildByName(\"icon\").getComponent(cc.Sprite).spriteFrame = iconSprite.spriteFrame;\r\n            this._userinfo.getChildByName(\"name\").getComponent(cc.Label).string = name;\r\n            this._userinfo.getChildByName(\"ip\").getComponent(cc.Label).string = \"IP: \" + ip.replace(\"::ffff:\",\"\");\r\n            this._userinfo.getChildByName(\"id\").getComponent(cc.Label).string = \"ID: \" + userId;\r\n            \r\n            var sex_female = this._userinfo.getChildByName(\"sex_female\");\r\n            sex_female.active = false;\r\n            \r\n            var sex_male = this._userinfo.getChildByName(\"sex_male\");\r\n            sex_male.active = false;\r\n            \r\n            if(sex == 1){\r\n                sex_male.active = true;\r\n            }   \r\n            else if(sex == 2){\r\n                sex_female.active = true;\r\n            }\r\n        }\r\n    },\r\n    \r\n    onClicked:function(){\r\n        this._userinfo.active = false;\r\n    }\r\n\r\n    // called every frame, uncomment this function to activate update callback\r\n    // update: function (dt) {\r\n\r\n    // },\r\n});\r\n"]}